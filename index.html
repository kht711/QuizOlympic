<html>
    <head>
        <meta charset="uft-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>퀴즈 올림픽 문제은행</title>
    </head>
    <body>
        문제 찾기<br>
        <input type = "text" id = "problem" oninput='filter()'>
        <hr>
        <table id = "list" border="1" style="display:none">
            <tr>
                <th>문제</th>
                <th>정답</th>
            </tr>
        </table>
    </body>
    <script>
        let table = document.getElementById("list");
        table.style.width = "0px";
        table.style.tableLayout = "fixed";
        
        function readTextFile(file){
            var rawFile = new XMLHttpRequest();
            rawFile.open("GET", file, false);
            rawFile.onreadystatechange = function (){
                if (rawFile.readyState === 4){
                    if (rawFile.status === 200 || rawFile.status == 0){
                        var allText = rawFile.responseText;
                        TableInput(allText);
                    }
                }
            };
            rawFile.send(null);
        }
        readTextFile("./list.txt");

        function TableInput(allText){
            let rows = allText.split("\n");
            for (i = 0; i < rows.length - 1; i++){
                // コンマで分ける
                let cols = rows[i].split(", ");
                let tr = document.createElement('tr');
                table.appendChild(tr);
                for (j = 0; j < cols.length; j++){
                    let td = document.createElement('td');
                    tr.appendChild(td);
                    td.innerHTML = cols[j];
                }
            }
        }
        filter();
        table.style.display = "";
    </script>
</html>
